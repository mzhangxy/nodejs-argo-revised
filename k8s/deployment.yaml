apiVersion: apps/v1
kind: Deployment
metadata:
  name: trialapp
  namespace: default  # 或你的目标 namespace
spec:
  replicas: 1
  selector:
    matchLabels:
      app: trialapp
  template:
    metadata:
      labels:
        app: trialapp
    spec:
      containers:
      - name: trialapp
        image: ghcr.io/mzhangxy/trialapp:latest  # 替换为你的镜像地址
        imagePullPolicy: Always  # 每次都拉取最新镜像
        ports:
        - containerPort: 3000  # 如果使用其他端口，修改这里
        env:  # 这里添加所有需要的环境变量（从 README 复制）
        - name: PORT
          value: "3000"
        - name: ARGO_AUTH
          value: "eyJhIjoiZDY1NWNiOTk2NzNlZTYzMDE4NDFkMmQyNmYxNTY5N2EiLCJ0IjoiYjVlZmIwMzMtNTg4OS00NWYyLThhNTItN2E1NzQ3MzRiN2ZiIiwicyI6Ik56WTFPRFEyTW1NdE1ETTJOeTAwWW1RMkxXRTVOR0V0TmprME5tUmlPVFEwTUdReCJ9"  # 必须配置
        - name: ARGO_DOMAIN
          value: "trialsap.hostia.ggff.net"
        # 添加其他变量，如 UUID, NEZHA_SERVER, NEZHA_PORT, NEZHA_KEY 等
        resources:
          requests:
            memory: "128Mi"
            cpu: "100m"
          limits:
            memory: "512Mi"
            cpu: "500m"
